---
title: Architecture
sidebar:
  order: 1
---

Pencel transforms component source files into framework-specific outputs. The compiler separates concerns into semantic, synchronization, and translation layers.

## Compilation Phases

The compiler follows a fixed sequence:

1. **Discover** – Validates `tsconfig.json` and globs for input files
2. **Load** – Creates TypeScript `SourceFile` objects
3. **Build IR** – Parses decorators into immutable IR
4. **Sync AST** – Updates AST nodes to match IR state
5. **Generate** – Creates global files (ir.json, components.d.ts)
6. **Derive** – Creates framework adapters (React, Angular)
7. **Write** – Flushes files to disk


## Key Concepts

- **IR** – Immutable object graph capturing component metadata and relationships
- **Generators** – Plugins creating global files (ir.json, components.d.ts). Always fully rebuild.
- **Derivatives** – Plugins creating framework adapters (React, Angular). One output per source file, incremental.

**See [Understanding Pencel's Compiler](/pencel/internals/understanding/) for conceptual overview. See [Core Components](/pencel/internals/core/) for system architecture.**
