---
title: CSS Plugin
sidebar: 
    order: 1
---

import { Aside } from '@astrojs/starlight/components';

The CSS plugin automatically inlines, optimizes, and minifies your component styles using [`lightningcss`](https://lightningcss.dev/). It's **enabled by default**.

## Basic Usage

Define styles in your component:

```typescript
@Component({
  tag: 'my-button',
  styles: `
    button {
      background: #007bff;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
    }
  `
})
export class MyButton extends HTMLElement {
  render() {
    return <button>Click me</button>;
  }
}
```

Styles are automatically optimized and included in the compiled output.

## Shadow DOM vs Scoped vs Global

The plugin handles three rendering modes:

**Shadow DOM** (`shadow: true`)
- CSS is attached to the shadow root as-is
- Provides full style encapsulation
- `:host` and `:host-context()` work normally

```typescript
@Component({
  tag: 'my-component',
  shadow: true,  // CSS attached to shadowRoot
  styles: css
})
```

**Scoped** (`scoped: true`)
- CSS is transformed automatically for light DOM
- `:host` selectors converted to light-DOM equivalents
- All other selectors prefixed with your component tag (e.g., `.button` â†’ `my-component .button`)

```typescript
@Component({
  tag: 'my-component',
  scoped: true,  // CSS automatically scoped
  styles: css
})
```

**Global** (neither flag set)
- CSS attached globally without transformations
- Use for utility styles or reusable class definitions

## Configuration

To customize CSS processing:

```typescript
import { defineConfig } from '@pencel/core';

export default defineConfig({
  plugins: [
    {
      name: 'css',
      options: {
        enabled: true,           // Enable/disable the plugin
        scopedTransform: true    // Enable automatic scoped transformations (default: true)
      }
    }
  ]
});
```

### Disable Scoped Transformations

If you want scoped components but without automatic selector prefixing:

```typescript
import { defineConfig } from '@pencel/core';

export default defineConfig({
  plugins: [
    {
      name: 'css',
      options: {
        scopedTransform: false  // Don't auto-prefix selectors
      }
    }
  ]
});
```

<Aside type="tip">
For advanced styling without scoped transformation overhead, use shadow DOM mode (`shadow: true`). This provides better encapsulation and doesn't require CSS rewriting.
</Aside>